---
import '../styles/global.css';
import '@fontsource/montserrat/400.css';
import '@fontsource/montserrat/700.css';
import { Image } from 'astro:assets';
import logoImg from '../assets/logo.svg';

interface Props {
    title: string;
    description?: string;
    image?: string; 
    logo?: string; 
    ogType?: string;
}

const { 
    title, 
    description = "Centro de bienestar Marce Anahata en El Poblado en Medell칤n - El Poblado. Kundalini Yoga, Terapia de Sonido, Rituales Sagrados y Bienestar Corporativo.",
    image = "https://marce-anahata-web.vercel.app/images/social-preview.jpg" ,
    logo = "https://marce-anahata-web.vercel.app/images/marce-perfil.webp",
    ogType = 'website'
    
} = Astro.props;

// Schema.org para SEO Local (Negocio Local)
const schema = JSON.stringify({
  "@context": "https://schema.org",
  "@type": "HealthAndBeautyBusiness",
  "name": "Marce Anahata Centro de Bienestar",
  "image": "https://marce-anahata-web.vercel.app/images/social-preview.jpg",
  "description": description,
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Cl. 11A Sur #46-12, La Aguacatala", 
    "addressLocality": "Medell칤n",
    "addressRegion": "Antioquia",
    "addressCountry": "CO"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": 6.1955152, 
    "longitude": -75.5779584
  },
  "url": "https://marceanahata.com",
  "telephone": "+573207329921", // Tu n칰mero real
  "priceRange": "70.000 - 500.000 COP"
});
---

<!doctype html>
<html lang="es" class="scroll-smooth">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="generator" content={Astro.generator} />
        
        <title>{title} | Marce Anahata</title>
        <meta name="description" content={description} />
        <meta name="robots" content="index, follow" />
        <link rel="canonical" href={Astro.url} />
        <link rel="sitemap" href="/sitemap-index.xml" />

        <meta property="og:type" content={ogType} />
        <meta property="og:url" content={Astro.url} />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />
        <meta property="og:image" content={image} />
        <meta property="og:logo" content={logo} />

        <slot name="head" />


        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <script type="application/ld+json" set:html={schema} />
        
        <!-- Google Analytics (sin Partytown para testing) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-N2S592YWN3"></script>
        <script is:inline>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-N2S592YWN3');
        </script>

    </head>
    <body class="bg-stone-50 text-stone-800 font-sans flex flex-col min-h-screen">

        <nav class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-b border-stone-100 z-50 transition-all duration-300">
            <div class="max-w-7xl mx-auto px-6 py-3 flex items-center justify-between">
                <a href="/" class="flex items-center gap-3 group">
                    <Image src={logoImg} alt="Logo Marce Anahata" class="h-10 w-auto group-hover:scale-105 transition-transform" width={40} />
                    <span class="flex flex-col leading-tight">
                        <span class="font-serif text-xl text-[#243c5a] group-hover:text-[#6ed8d9] transition-colors">MARCE ANAHATA</span>
                        <span class="text-xs text-[#5d5a8c] -mt-0.5 tracking-wider">Centro de bienestar</span>
                    </span>
                </a>

                <div class="hidden md:flex gap-8 items-center">
                    <a href="/" class="text-sm font-medium text-stone-600 hover:text-[#243c5a] transition-colors">Home</a>
                    <a href="/blog" class="text-sm font-medium text-stone-600 hover:text-[#243c5a] transition-colors">Blog</a>
                    
                    <!-- Dropdown Servicios -->
                    <div class="relative group">
                        <button class="text-sm font-medium text-stone-600 hover:text-[#243c5a] transition-colors flex items-center gap-1">
                            Servicios
                            <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                        <div class="absolute top-full left-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-stone-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                            <a href="/clases" class="block px-4 py-3 text-sm text-stone-700 hover:bg-stone-50 hover:text-[#243c5a] transition-colors first:rounded-t-lg">Clases de Yoga</a>
                            <a href="/terapia-sonido" class="block px-4 py-3 text-sm text-stone-700 hover:bg-stone-50 hover:text-[#243c5a] transition-colors">Terapia de Sonido</a>
                            <a href="/rituales" class="block px-4 py-3 text-sm text-stone-700 hover:bg-stone-50 hover:text-[#243c5a] transition-colors">Rituales Sagrados</a>
                            <a href="/bienestar-corporativo" class="block px-4 py-3 text-sm text-stone-700 hover:bg-stone-50 hover:text-[#243c5a] transition-colors last:rounded-b-lg">Bienestar Corporativo</a>
                        </div>
                    </div>
                    
                    <a href="/sobre-mi" class="text-sm font-medium text-stone-600 hover:text-[#243c5a] transition-colors">Sobre M칤</a>
                    <a href="/contacto" class="text-sm text-[#243c5a] font-bold border border-[#243c5a] px-5 py-2 rounded-full hover:bg-[#243c5a] hover:text-white transition-all shadow-sm hover:shadow-md">
                        Cont치ctenos
                    </a>
                </div>

                <details class="md:hidden group relative">
                    <summary class="cursor-pointer p-2 list-none">
                        <svg class="w-7 h-7 text-[#243c5a]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"/></svg>
                    </summary>
                    <div class="absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-stone-100 p-4 flex flex-col gap-3 z-50">
                        <a href="/" class="text-stone-700 hover:text-[#6ed8d9]">Home</a>
                        <a href="/blog" class="text-stone-700 hover:text-[#6ed8d9]">Blog</a>
                        
                        <div class="border-t border-stone-100 pt-3">
                            <p class="text-xs font-semibold text-stone-400 uppercase tracking-wide mb-2">Servicios</p>
                            <div class="flex flex-col gap-2 pl-2">
                                <a href="/clases" class="text-stone-700 hover:text-[#6ed8d9]">Clases de Yoga</a>
                                <a href="/terapia-sonido" class="text-stone-700 hover:text-[#6ed8d9]">Terapia de Sonido</a>
                                <a href="/rituales" class="text-stone-700 hover:text-[#6ed8d9]">Rituales Sagrados</a>
                                <a href="/bienestar-corporativo" class="text-stone-700 hover:text-[#6ed8d9]">Bienestar Corporativo</a>
                            </div>
                        </div>
                        
                        <hr class="border-stone-100">
                        <a href="/sobre-mi" class="text-stone-700 hover:text-[#6ed8d9]">Sobre M칤</a>
                        <hr class="border-stone-100">
                        <a href="/contacto" class="text-[#243c5a] font-bold text-center block">Cont치ctenos</a>
                    </div>
                </details>
            </div>
        </nav>

        <main class="flex-grow pt-20">
            <slot />
        </main>
        
        <footer class="bg-[#243c5a] text-stone-100 py-16 mt-auto border-t-4 border-[#6ed8d9]">
            <div class="max-w-7xl mx-auto px-6">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
                    
                    <div>
                        <div class="flex items-center gap-2 mb-6">
                            <span class="font-serif text-2xl text-white tracking-wide">MARCE ANAHATA</span>
                        </div>
                        <p class="text-sm leading-relaxed text-stone-200 mb-6">
                            Espacios sagrados para la transformaci칩n personal a trav칠s del Kundalini Yoga, el sonido y la conciencia.
                        </p>
                        <div class="flex gap-4">
                            <a href="https://instagram.com/marce_anahata" target="_blank" aria-label="Instagram" class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-[#6ed8d9] hover:text-[#243c5a] transition-all">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                            </a>
                            <a href="https://wa.me/573207329921" target="_blank" aria-label="WhatsApp" class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-[#6ed8d9] hover:text-[#243c5a] transition-all">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                            </a>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-white font-serif text-lg mb-6">Explora</h3>
                        <ul class="space-y-3 text-sm">
                            <li><a href="/" class="hover:text-[#6ed8d9] transition-colors">Inicio</a></li>
                            <li><a href="/blog" class="hover:text-[#6ed8d9] transition-colors">Blog</a></li>
                            <li><a href="/sobre-mi" class="hover:text-[#6ed8d9] transition-colors">Sobre M칤</a></li>
                            <li><a href="/contacto" class="hover:text-[#6ed8d9] transition-colors">Contacto y Ubicaci칩n</a></li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-white font-serif text-lg mb-6">Servicios</h3>
                        <ul class="space-y-3 text-sm">
                            <li><a href="/clases" class="hover:text-[#6ed8d9] transition-colors">Clases de Yoga</a></li>
                            <li><a href="/terapia-sonido" class="hover:text-[#6ed8d9] transition-colors">Terapia de Sonido</a></li>
                            <li><a href="/bienestar-corporativo" class="hover:text-[#6ed8d9] transition-colors">Bienestar Corporativo</a></li>
                            <li><a href="/rituales" class="hover:text-[#6ed8d9] transition-colors">Rituales Sagrados</a></li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-white font-serif text-lg mb-6">Vis칤tanos</h3>
                        <ul class="space-y-4 text-sm">
                            <li class="flex items-start gap-3">
                                <span class="text-[#6ed8d9] mt-1">游늸</span>
                                <span>Cl. 11A Sur #46-12 Barrio La Aguacatala, El Poblado, Antioquia<br><span class="text-stone-400 text-xs">Atenci칩n con cita previa</span></span>
                            </li>
                            <li class="flex items-center gap-3">
                                <span class="text-[#6ed8d9]">游님</span>
                                <a href="https://wa.me/573207329921" class="hover:text-white transition-colors">+57 320 732 9921</a>
                            </li>
                            <li class="flex items-center gap-3">
                                <span class="text-[#6ed8d9]">九괦잺</span>
                                <a href="mailto:hola@marceanahata.com" class="hover:text-white transition-colors">info@marceanahata.com</a>
                            </li>
                        </ul>
                    </div>

                </div>

                <div class="border-t border-white/10 pt-8 text-center text-xs text-stone-400 flex flex-col md:flex-row justify-between items-center gap-4">
                    <p>춸 {new Date().getFullYear()} Marce Anahata. Todos los derechos reservados.
                        <a href="/privacidad" class="hover:text-white transition-colors underline decoration-dotted">
                            Pol칤tica de Privacidad
                        </a>
                    </p>
                    <p>Dise침ado con consciencia.</p>
                </div>
            </div>
        </footer>
        <a 
        href="https://wa.me/573207329921?text=Hola%20Marce%20Anahata,%20estaba%20visitando%20tu%20sitio%20y%20me%20gustar칤a%20m치s%20informaci칩n..." 
        target="_blank"
        rel="noopener noreferrer"
        class="fixed bottom-6 right-6 z-50 bg-[#25D366] text-white p-4 rounded-full shadow-lg hover:scale-110 transition-transform duration-300 hover:shadow-xl flex items-center justify-center"
        aria-label="Contactar por WhatsApp"
        >
        <svg class="w-8 h-8 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
        </svg>
        </a>
    </body>
</html>

<style is:global>
	/* Fuentes */
	h1, h2, h3, h4 { font-family: 'Cormorant Garamond', serif; }
	body {
        font-family: 'Montserrat', sans-serif;
        /* Esto muestra una fuente b치sica inmediatamente y cambia a la tuya cuando carga */
        font-display: swap; 
        }

    /* Estilos globales para botones y utilidades */
    :root {
      --color-brand-dark: #243c5a;
      --color-brand-violet: #5d5a8c;
      --color-brand-cyan: #6ed8d9;
    }
    
    .swiper-pagination-bullet-active {
        background-color: var(--color-brand-violet) !important;
    }
    
    /* Scrollbar personalizada sutil */
    ::-webkit-scrollbar {
        width: 8px;
    }
    ::-webkit-scrollbar-track {
        background: #f1f1f4;
    }
    ::-webkit-scrollbar-thumb {
        background: #d6d3d1; 
        border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: #a8a29e; 
    }
</style>