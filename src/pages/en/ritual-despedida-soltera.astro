---
import Layout from '../../layouts/Layout.astro';
import ReviewsSection from '../../components/cards/ReviewsSection.astro';
import { Image } from 'astro:assets';
import { getCollection } from 'astro:content';
import ritualDespedidaAmigasImg from '../../assets/ritual/ritual-despedida-soltera-amigas.webp';

// --- SERVICE DATA ---
const serviceInfo = {
  title: "Bachelorette Ritual: Goddess Circle",
  subtitle: "A sacred celebration to honor the bride, weave sisterhood, and fill her with blessings before her big day.",
  price: "$138.000 COP", // Update with your real price or "Ask depending on guests"
  duration: "2 to 3 Hours",
  whatsappMessage: "Hi Marce Anahata, I want to host a conscious Bachelorette Ritual for a friend. Can you share details and availability?",
};

const whatsappLink = `https://wa.me/573207329921?text=${encodeURIComponent(serviceInfo.whatsappMessage)}`;

// TEMPORARILY DISABLED FOR PRODUCTION
// const ritualPosts = (await getCollection('blog', ({ data, slug }) =>
//   slug.startsWith('en/') && !data.draft && data.tags.includes('rituales')
// ))
//   .sort((a, b) => new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime())
//   .slice(0, 3);
const ritualPosts: any[] = [];
---

<Layout title="Conscious Bachelorette Ritual | Marce Anahata" description="Conscious bachelorette in Medell√≠n: goddess circle to honor the bride, weave sisterhood, and shower her with sacred blessings." lang="en">
  <Fragment slot="head">
    <script type="application/ld+json">{JSON.stringify({
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://marceanahata.com/en" },
        { "@type": "ListItem", "position": 2, "name": "Rituals", "item": "https://marceanahata.com/en/rituales" },
        { "@type": "ListItem", "position": 3, "name": "Bachelorette Ritual", "item": "https://marceanahata.com/en/ritual-despedida-soltera" }
      ]
    })}</script>
    <meta property="og:locale" content="en_US" />
  </Fragment>
  
  <section class="relative h-[70vh] flex items-center justify-center overflow-hidden">
    <video 
      class="absolute inset-0 w-full h-full object-cover z-0 opacity-90"
      autoplay 
      loop 
      muted 
      playsinline
    >
      <source src="/videos/ritual-despedida-soltera.mp4" type="video/mp4" />
    </video>
    
    <div class="absolute inset-0 bg-black opacity-30 z-10"></div>

    <div class="relative z-10 text-center text-white px-6 max-w-4xl mx-auto mt-20">
      <span class="uppercase tracking-[0.2em] text-sm md:text-base mb-4 block text-[#6ed8d9]">Conscious Celebration</span>
      <h1 class="text-4xl md:text-6xl font-serif mb-6 leading-tight">{serviceInfo.title}</h1>
      <p class="text-lg md:text-xl font-light max-w-2xl mx-auto mb-8 opacity-95 text-stone-50">
        {serviceInfo.subtitle}
      </p>
      <a 
        href={whatsappLink}
        target="_blank"
        rel="noopener noreferrer"
        data-event="whatsapp_click"
        data-label="Bachelorette Ritual Hero CTA"
        class="inline-block bg-[#6ed8d9] text-[#243c5a] px-8 py-4 rounded-full font-medium hover:bg-white transition-all duration-300 transform hover:-translate-y-1 shadow-lg"
      >
        Plan the celebration
      </a>
    </div>
  </section>

  <section class="py-20 bg-[#fffbfb] px-6"> 
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
      <div class="relative">
        <div class="absolute -top-4 -left-4 w-full h-full border-2 border-[#5d5a8c]/20 rounded-2xl z-0"></div>
        <Image 
          src={ritualDespedidaAmigasImg} 
          alt="Friends celebrating together" 
          class="rounded-2xl shadow-xl relative z-10 w-full h-[500px] object-cover"
          width={600}
          height={500}
          densities={[1.5, 2]}
        />
      </div>
      <div>
        <h2 class="text-3xl md:text-4xl font-serif text-[#243c5a] mb-6">Not a goodbye‚Äîan initiation into love</h2>
        <p class="text-[#243c5a]/80 mb-6 leading-relaxed">
          Traditional bachelorettes focus on "the end of freedom." Here we shift the narrative to celebrate the <strong>beginning of a sacred union</strong>.
        </p>
        <p class="text-[#243c5a]/80 mb-8 leading-relaxed">
          We craft an intimate space where the most important women in the bride's life become her energetic support network. Through laughter, connection, and magic, we empower her to walk to the altar with a full and serene heart.
        </p>
        <ul class="space-y-4">
          <li class="flex items-center gap-3 text-[#5d5a8c]">
            <span class="text-xl">üå∏</span> Sisterhood and genuine connection
          </li>
          <li class="flex items-center gap-3 text-[#5d5a8c]">
            <span class="text-xl">üïØÔ∏è</span> Intention planting for the couple
          </li>
          <li class="flex items-center gap-3 text-[#5d5a8c]">
            <span class="text-xl">‚ú®</span> Pre-wedding energetic cleansing
          </li>
        </ul>
      </div>
    </div>
  </section>

  <section class="py-20 bg-white px-6">
    <div class="max-w-4xl mx-auto text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-serif text-[#243c5a] mb-4">Magical moments</h2>
      <p class="text-[#243c5a]/60">A flow designed to laugh, cry with joy, and connect.</p>
    </div>

    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="bg-[#fffbfb] p-8 rounded-xl text-center hover:shadow-md transition-shadow group border border-stone-100">
        <div class="w-16 h-16 bg-[#5d5a8c]/10 group-hover:bg-[#6ed8d9]/20 transition-colors rounded-full flex items-center justify-center mx-auto mb-6 text-2xl">‚òï</div>
        <h3 class="text-xl font-serif text-[#243c5a] mb-3">Heart Opening</h3>
        <p class="text-sm text-[#243c5a]/70">We start with ceremonial cacao or a connection meditation to release wedding-planning stress and land in the present.</p>
      </div>
      <div class="bg-[#fffbfb] p-8 rounded-xl text-center hover:shadow-md transition-shadow group border border-stone-100">
        <div class="w-16 h-16 bg-[#5d5a8c]/10 group-hover:bg-[#6ed8d9]/20 transition-colors rounded-full flex items-center justify-center mx-auto mb-6 text-2xl">üëë</div>
        <h3 class="text-xl font-serif text-[#243c5a] mb-3">Blessing Ritual</h3>
        <p class="text-sm text-[#243c5a]/70">Symbolic acts (crowning the bride, red thread, foot washing) where each friend offers wishes and wisdom for this new stage.</p>
      </div>
      <div class="bg-[#fffbfb] p-8 rounded-xl text-center hover:shadow-md transition-shadow group border border-stone-100">
        <div class="w-16 h-16 bg-[#5d5a8c]/10 group-hover:bg-[#6ed8d9]/20 transition-colors rounded-full flex items-center justify-center mx-auto mb-6 text-2xl">üíÉ</div>
        <h3 class="text-xl font-serif text-[#243c5a] mb-3">Celebration & Joy</h3>
        <p class="text-sm text-[#243c5a]/70">We close by raising the vibration with conscious dance, joyful mantras, or a sound bath to seal the energy of love.</p>
      </div>
    </div>
  </section>

  <section class="py-20 bg-[#5d5a8c] text-white px-6 relative overflow-hidden">
    <div class="absolute top-0 left-0 w-72 h-72 bg-[#6ed8d9] rounded-full filter blur-[120px] opacity-20"></div>
    <div class="absolute bottom-0 right-0 w-72 h-72 bg-pink-300 rounded-full filter blur-[120px] opacity-20"></div>

    <div class="max-w-4xl mx-auto text-center relative z-10">
      <h2 class="text-3xl md:text-5xl font-serif mb-8">The best gift is presence</h2>
      
      <div class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8 md:p-12 inline-block max-w-2xl w-full">
        <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-6 border-b border-white/10 pb-8">
            <div class="text-center md:text-left">
                <p class="text-[#6ed8d9] uppercase text-xs tracking-widest mb-1">Duration</p>
                <p class="text-xl">{serviceInfo.duration}</p>
            </div>
            <div class="text-center md:text-right">
                <p class="text-[#6ed8d9] uppercase text-xs tracking-widest mb-1">Investment per person</p>
                <p class="text-3xl font-serif">{serviceInfo.price}</p>
            </div>
        </div>

        <p class="mb-8 text-white/90 font-light italic">
          "Friends are the family we choose. Honoring them in circle is pure medicine."
        </p>

        <div class="flex flex-col gap-3">
          <a 
            href="/en/tarifas#rituales"            data-event="pricing_click"
            data-label="EN Bachelorette Ritual - Pricing Link"            class="w-full block bg-white text-[#243c5a] py-4 rounded-xl font-bold hover:bg-[#6ed8d9] transition-colors"
          >
            View Pricing
          </a>
          <a 
            href={whatsappLink}
            target="_blank"
            rel="noopener noreferrer"
            data-event="whatsapp_click"
            data-label="Bachelorette Ritual CTA Final"
            class="w-full block bg-[#6ed8d9] text-[#243c5a] py-4 rounded-xl font-bold hover:bg-white transition-colors shadow-lg"
          >
            Get a quote for my group
          </a>
        </div>
        <p class="mt-4 text-xs text-white/50">*Pricing may adjust based on guest count and whether you include gift kits. A 50% deposit is required to reserve the date.</p>
      </div>
    </div>
  </section>

  {ritualPosts.length > 0 && (
    <section class="max-w-7xl mx-auto px-6 py-20 bg-stone-50">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-serif text-marce-base-3 mb-4">Ritual articles</h2>
        <p class="text-stone-600 max-w-2xl mx-auto">Deepen into the art of rituals and discover how they can transform your life.</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {ritualPosts.map((post) => (
          <article class="bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300 border border-stone-100 flex flex-col">
            {post.data.image && (
              <div class="h-48 overflow-hidden">
                <img
                  src={post.data.image}
                  alt={post.data.title}
                  class="w-full h-full object-cover hover:scale-105 transition-transform duration-700"
                  loading="lazy"
                />
              </div>
            )}
            <div class="p-6 flex flex-col flex-grow">
              <time class="text-xs text-stone-500 mb-2 uppercase tracking-wider">
                {new Date(post.data.pubDate).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
              </time>
              <h3 class="text-xl font-semibold text-marce-base-3 mb-3 leading-tight">
                {post.data.title}
              </h3>
              <p class="text-stone-600 text-sm mb-4 flex-grow leading-relaxed">
                {post.data.description}
              </p>
              <a
                href={`/en/blog/${post.slug.replace(/^en\//, '')}`}
                class="text-marce-base-1 font-semibold text-sm hover:text-marce-base-2 transition-colors inline-flex items-center gap-1"
              >
                Read more
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </article>
        ))}
      </div>

      <div class="text-center mt-12">
        <a
          href="/en/blog/tag/rituales"
          class="inline-block px-6 py-3 border-2 border-marce-base-1 text-marce-base-1 rounded-lg hover:bg-marce-base-1 hover:text-white transition-all font-semibold"
        >
          See all ritual articles
        </a>
      </div>
    </section>
  )}

  <div class="bg-stone-50">
    <ReviewsSection lang="en" />
  </div>

</Layout>
