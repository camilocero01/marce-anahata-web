---
import Layout from '../../layouts/Layout.astro';
import ReviewsSection from '../../components/cards/ReviewsSection.astro';
import { Image } from 'astro:assets';
import clasesYogaImg from '../../assets/clase/clases-yoga.webp';
import claseYogaLandingImg from '../../assets/clase/clase-yoga-landing.webp';
import { getCollection } from 'astro:content';

// --- GENERAL DATA ---
const pageInfo = {
  title: "Kundalini Yoga Classes & Workshops in Medell√≠n - El Poblado",
  subtitle: "Sacred technology to strengthen your body, calm the mind, and awaken vital energy in daily life.",
  whatsappMessageGeneral: "Hi Marce Anahata, I'm interested in your Kundalini Yoga classes. Could you share information about pricing and monthly packages?",
};

const whatsappLinkGeneral = `https://wa.me/573207329921?text=${encodeURIComponent(pageInfo.whatsappMessageGeneral)}`;

// 3 English posts tagged "yoga" or "meditaci√≥n" (kept tag for compatibility)
// TEMPORARILY DISABLED FOR PRODUCTION
// const yogaPosts = (await getCollection('blog', ({ data, slug }) =>
//   slug.startsWith('en/') && !data.draft && (data.tags.includes('yoga') || data.tags.includes('meditaci√≥n'))
// ))
//   .sort((a, b) => new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime())
//   .slice(0, 3);
const yogaPosts: any[] = [];

// --- OFFERINGS (easy to edit) ---
const offerings = [
  {
    icon: "üßò‚Äç‚ôÄÔ∏è",
    title: "Regular Group Classes",
    description: "Your weekly space for energetic maintenance. Join the community to practice kriyas, pranayamas, and meditations that support your routine.",
    details: ["In-person and Online", "Weekly frequency", "Monthly packs available"],
    cta: "Book Now",
    whatsappMsg: "Hi Marce Anahata, I want to reserve my spot in the regular group classes. How do I proceed?",
    tarifaLink: "/en/tarifas#clases-grupales"
  },
  {
    icon: "‚ú®",
    title: "Private Sessions (1:1)",
    description: "Personalized, deep support. We design the practice according to your specific needs (anxiety, purpose, vitality, etc.).",
    details: ["100% personalized attention", "Flexible schedules", "Close follow-up"],
    cta: "Schedule Session",
    whatsappMsg: "Hi Marce Anahata, I'd like to schedule a personalized private yoga session. What's your availability?",
    tarifaLink: "/en/tarifas#clases-personalizadas"
  },
  {
    icon: "üîÆ",
    title: "Deep Thematic Workshops",
    description: "Weekend or multi-hour immersions to work on specific themes: Prosperity, Relationships, Ancestral Healing, Chakras, etc.",
    details: ["Rotating themes", "Longer duration and depth", "Support material"],
    cta: "Ask About Workshops",
    whatsappMsg: "Hi Marce Anahata, I'd like information about the upcoming thematic workshops available.",
    tarifaLink: "/en/tarifas#talleres"
  }
];
---

<Layout 
  title="Yoga Classes and Workshops | Marce Anahata"
  description="In-person and online Kundalini Yoga classes in Medell√≠n. Learn conscious breathwork, meditation, and kriyas to awaken your vital energy."
  lang="en"
>
  <Fragment slot="head">
    <script type="application/ld+json">{JSON.stringify({
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://marceanahata.com/en" },
        { "@type": "ListItem", "position": 2, "name": "Classes & Workshops", "item": "https://marceanahata.com/en/clases" }
      ]
    })}</script>
    <meta property="og:locale" content="en_US" />
  </Fragment>
  
  <section class="relative h-[60vh] md:h-[70vh] flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0 z-0">
      <Image 
        src={clasesYogaImg} 
        alt="Kundalini Yoga and meditation practice" 
        class="w-full h-full object-cover opacity-90"
        width={1920}
        densities={[1.5, 2]}
        loading="eager"
        fetchpriority="high"
      />
      <div class="absolute inset-0 bg-[#243c5a]/30 mix-blend-multiply"></div>
      <div class="absolute inset-0 bg-stone-100/10 mix-blend-overlay"></div>
    </div>

    <div class="relative z-10 text-center text-white px-6 max-w-4xl mx-auto mt-16">
      <span class="uppercase tracking-[0.2em] text-sm md:text-base mb-4 block text-[#6ed8d9] font-medium">Your Daily Practice</span>
      <h1 class="text-4xl md:text-6xl font-serif mb-6 leading-tight drop-shadow-sm">{pageInfo.title}</h1>
      <p class="text-lg md:text-xl font-light max-w-2xl mx-auto mb-8 opacity-95 text-stone-50 leading-relaxed">
        {pageInfo.subtitle}
      </p>
       <a 
        href={whatsappLinkGeneral}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-block bg-[#6ed8d9] text-[#243c5a] px-8 py-4 rounded-full font-bold hover:bg-white transition-all duration-300 transform hover:-translate-y-1 shadow-lg"
      >
        Start Practicing
      </a>
    </div>
  </section>

  <section class="py-20 bg-white px-6">
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
      <div class="relative order-2 md:order-1">
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[110%] h-[110%] bg-[#5d5a8c]/5 rounded-full z-0"></div>
        <Image 
          src={claseYogaLandingImg} 
          alt="Yoga teacher meditating" 
          class="rounded-lg shadow-xl relative z-10 w-full h-[500px] object-cover grayscale hover:grayscale-0 transition-all duration-700"
          width={600}
          height={500}
          densities={[1.5, 2]}
        />
      </div>
      <div class="order-1 md:order-2">
        <h2 class="text-3xl md:text-4xl font-serif text-[#243c5a] mb-6">Yoga for real life, not just the mat</h2>
        <p class="text-[#243c5a]/80 mb-6 leading-relaxed text-lg">
          We live in fast, demanding times. Kundalini Yoga (the Yoga of Awareness) is a powerful tool designed precisely for this. It's not about being physically flexible, but having a <strong>flexible mind and a resilient nervous system</strong>.
        </p>
        <p class="text-[#243c5a]/80 mb-8 leading-relaxed text-lg">
          Through the precise combination of movement, breathwork (pranayama), sound (mantra), and focus, we create rapid changes in our internal chemistry, shifting from stress to vitality in minutes.
        </p>
        <div class="flex gap-4 flex-wrap font-medium text-[#5d5a8c]">
            <span class="bg-[#5d5a8c]/10 px-4 py-2 rounded-full">Calm Mind</span>
            <span class="bg-[#5d5a8c]/10 px-4 py-2 rounded-full">Physical Vitality</span>
            <span class="bg-[#5d5a8c]/10 px-4 py-2 rounded-full">Spiritual Connection</span>
        </div>
      </div>
    </div>
  </section>

  <section class="py-24 bg-stone-50 px-6" id="modalidades">
    <div class="max-w-4xl mx-auto text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-serif text-[#243c5a] mb-4">Practice Formats</h2>
      <p class="text-[#243c5a]/70 text-lg">Find the format that best fits your current moment.</p>
    </div>

    <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
      {offerings.map((offer) => {
        const whatsappLinkOffer = `https://wa.me/573207329921?text=${encodeURIComponent(offer.whatsappMsg)}`;
        return (
        <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 group border border-stone-100 flex flex-col relative overflow-hidden">
          <div class="absolute top-0 left-0 w-full h-1 bg-[#6ed8d9] transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></div>
          
          <div class="text-5xl mb-6 filter drop-shadow-sm">{offer.icon}</div>
          <h3 class="text-2xl font-serif text-[#243c5a] mb-4">{offer.title}</h3>
          <p class="text-[#243c5a]/70 mb-8 leading-relaxed flex-grow">{offer.description}</p>
          
          <ul class="mb-8 space-y-3">
            {offer.details.map((detail) => (
                <li class="flex items-center gap-2 text-sm text-[#5d5a8c] font-medium">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 text-[#6ed8d9]">
                      <path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd" />
                    </svg>
                    {detail}
                </li>
            ))}
          </ul>

          <div class="flex flex-col gap-3">
            <a 
              href={offer.tarifaLink}
              class="text-center w-full py-3 rounded-lg bg-[#6ed8d9] text-[#243c5a] font-semibold hover:bg-[#5d5a8c] hover:text-white transition-colors shadow-sm"
            >
              View Pricing
            </a>
            <a 
              href={whatsappLinkOffer}
              target="_blank"
              rel="noopener noreferrer"
              class="text-center w-full py-3 rounded-lg border-2 border-[#243c5a] text-[#243c5a] font-semibold hover:bg-[#243c5a] hover:text-white transition-colors"
            >
              {offer.cta}
            </a>
          </div>
        </div>
      )})}
    </div>
  </section>

  <section class="py-24 bg-white px-6" id="horarios">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
        <span class="uppercase tracking-[0.2em] text-sm mb-4 block text-[#6ed8d9] font-medium">Our Schedule</span>
        <h2 class="text-3xl md:text-4xl font-serif text-[#243c5a] mb-4">Current Class Times</h2>
        <p class="text-[#243c5a]/70 text-lg max-w-2xl mx-auto">Choose the schedule that fits your routine. All our classes combat stress and awaken your vital energy.</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
        {/* MONDAY */}
        <div class="group relative">
          <div class="absolute -inset-0.5 bg-gradient-to-r from-[#5d5a8c] to-[#6ed8d9] rounded-2xl opacity-20 group-hover:opacity-100 transition duration-300 blur"></div>
          <div class="relative bg-white rounded-2xl p-6 border border-[#6ed8d9]/30 hover:border-[#6ed8d9] transition-all">
            <h3 class="text-xl font-serif text-[#243c5a] mb-4 flex items-center gap-2">
              <span class="text-2xl">üìÖ</span>
              Monday
            </h3>
            <div class="space-y-4">
              <div class="pb-4 border-b border-stone-200">
                <p class="text-sm font-medium text-[#5d5a8c] mb-1">6:30 AM</p>
                <p class="text-[#243c5a] font-semibold">Kundalini Yoga</p>
                <p class="text-xs text-[#243c5a]/60">Meditation</p>
              </div>
              <div>
                <p class="text-sm font-medium text-[#5d5a8c] mb-1">7:00 PM</p>
                <p class="text-[#243c5a] font-semibold">Kundalini Yoga</p>
                <p class="text-xs text-[#243c5a]/60">Meditation</p>
              </div>
            </div>
          </div>
        </div>

        {/* TUESDAY */}
        <div class="group relative">
          <div class="absolute -inset-0.5 bg-gradient-to-r from-[#5d5a8c] to-[#6ed8d9] rounded-2xl opacity-20 group-hover:opacity-100 transition duration-300 blur"></div>
          <div class="relative bg-white rounded-2xl p-6 border border-[#6ed8d9]/30 hover:border-[#6ed8d9] transition-all">
            <h3 class="text-xl font-serif text-[#243c5a] mb-4 flex items-center gap-2">
              <span class="text-2xl">üïØÔ∏è</span>
              Tuesday
            </h3>
            <div>
              <p class="text-sm font-medium text-[#5d5a8c] mb-1">10:30 AM</p>
              <p class="text-[#243c5a] font-semibold">Restorative Yoga</p>
              <p class="text-xs text-[#243c5a]/60">Deep relaxation and healing</p>
            </div>
          </div>
        </div>

        {/* WEDNESDAY */}
        <div class="group relative">
          <div class="absolute -inset-0.5 bg-gradient-to-r from-[#5d5a8c] to-[#6ed8d9] rounded-2xl opacity-20 group-hover:opacity-100 transition duration-300 blur"></div>
          <div class="relative bg-white rounded-2xl p-6 border border-[#6ed8d9]/30 hover:border-[#6ed8d9] transition-all">
            <h3 class="text-xl font-serif text-[#243c5a] mb-4 flex items-center gap-2">
              <span class="text-2xl">‚ö°</span>
              Wednesday
            </h3>
            <div>
              <p class="text-sm font-medium text-[#5d5a8c] mb-1">8:30 AM</p>
              <p class="text-[#243c5a] font-semibold">Yoga Fit</p>
              <p class="text-xs text-[#243c5a]/60">Energy and strengthening</p>
            </div>
          </div>
        </div>

        {/* THURSDAY */}
        <div class="group relative">
          <div class="absolute -inset-0.5 bg-gradient-to-r from-[#5d5a8c] to-[#6ed8d9] rounded-2xl opacity-20 group-hover:opacity-100 transition duration-300 blur"></div>
          <div class="relative bg-white rounded-2xl p-6 border border-[#6ed8d9]/30 hover:border-[#6ed8d9] transition-all">
            <h3 class="text-xl font-serif text-[#243c5a] mb-4 flex items-center gap-2">
              <span class="text-2xl">üßò</span>
              Thursday
            </h3>
            <div>
              <p class="text-sm font-medium text-[#5d5a8c] mb-1">10:00 AM</p>
              <p class="text-[#243c5a] font-semibold">Kundalini Yoga</p>
              <p class="text-xs text-[#243c5a]/60">Awakening and awareness</p>
            </div>
          </div>
        </div>

        {/* FRIDAY */}
        <div class="group relative">
          <div class="absolute -inset-0.5 bg-gradient-to-r from-[#5d5a8c] to-[#6ed8d9] rounded-2xl opacity-20 group-hover:opacity-100 transition duration-300 blur"></div>
          <div class="relative bg-white rounded-2xl p-6 border border-[#6ed8d9]/30 hover:border-[#6ed8d9] transition-all">
            <h3 class="text-xl font-serif text-[#243c5a] mb-4 flex items-center gap-2">
              <span class="text-2xl">üåä</span>
              Friday
            </h3>
            <div>
              <p class="text-sm font-medium text-[#5d5a8c] mb-1">4:00 PM</p>
              <p class="text-[#243c5a] font-semibold">Yoga Flow</p>
              <p class="text-xs text-[#243c5a]/60">Fluid and graceful movement</p>
            </div>
          </div>
        </div>

        {/* SATURDAY */}
        <div class="group relative">
          <div class="absolute -inset-0.5 bg-gradient-to-r from-[#5d5a8c] to-[#6ed8d9] rounded-2xl opacity-20 group-hover:opacity-100 transition duration-300 blur"></div>
          <div class="relative bg-white rounded-2xl p-6 border border-[#6ed8d9]/30 hover:border-[#6ed8d9] transition-all">
            <h3 class="text-xl font-serif text-[#243c5a] mb-4 flex items-center gap-2">
              <span class="text-2xl">‚òÄÔ∏è</span>
              Saturday
            </h3>
            <div>
              <p class="text-sm font-medium text-[#5d5a8c] mb-1">9:00 AM</p>
              <p class="text-[#243c5a] font-semibold">Kundalini Yoga</p>
              <p class="text-xs text-[#243c5a]/60">Weekly rebirth</p>
            </div>
          </div>
        </div>
      </div>

      <div class="bg-gradient-to-r from-[#5d5a8c]/5 to-[#6ed8d9]/5 rounded-2xl p-8 border border-[#6ed8d9]/20">
        <div class="flex flex-col md:flex-row items-center justify-between gap-6">
          <div>
            <h3 class="text-xl font-semibold text-[#243c5a] mb-2">Questions about the schedule?</h3>
            <p class="text-[#243c5a]/70">All our classes are in-person in El Poblado, and some time slots available online. Contact me for more details.</p>
          </div>
          <a 
            href={whatsappLinkGeneral}
            target="_blank"
            rel="noopener noreferrer"
            class="whitespace-nowrap inline-flex items-center gap-2 bg-[#6ed8d9] text-[#243c5a] px-6 py-3 rounded-full font-semibold hover:bg-[#5d5a8c] hover:text-white transition-all shadow-md"
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
              <path fill-rule="evenodd" d="M1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.96 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z" clip-rule="evenodd" />
            </svg>
            Ask on WhatsApp
          </a>
        </div>
      </div>
    </div>
  </section>

  <section class="py-20 bg-[#243c5a] text-white px-6 relative overflow-hidden">
    <div class="absolute inset-0 bg-[url('/images/hero-bg.webp')] opacity-5 mix-blend-overlay"></div> <div class="absolute -top-24 -right-24 w-96 h-96 bg-[#6ed8d9] rounded-full filter blur-[150px] opacity-10"></div>
    <div class="absolute -bottom-24 -left-24 w-96 h-96 bg-[#5d5a8c] rounded-full filter blur-[150px] opacity-20"></div>

    <div class="max-w-4xl mx-auto text-center relative z-10">
      <h2 class="text-3xl md:text-4xl font-serif mb-6">Ready to start your practice?</h2>
      <p class="text-white/80 text-lg mb-10 leading-relaxed max-w-2xl mx-auto">
        Reserve your spot in our classes or ask about our monthly packages and thematic workshops. Contact me directly for all the details.
      </p>
      
      <a 
        href={whatsappLinkGeneral}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-3 bg-[#6ed8d9] text-[#243c5a] px-8 py-4 rounded-full font-bold hover:bg-white transition-all duration-300 shadow-lg hover:shadow-[#6ed8d9]/20"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
          <path fill-rule="evenodd" d="M1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.96 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z" clip-rule="evenodd" />
        </svg>
        Book My Class
      </a>
      <p class="mt-6 text-sm text-[#6ed8d9]/80 font-light tracking-wider">Fast response via WhatsApp</p>
    </div>
  </section>

  {yogaPosts.length > 0 && (
    <section class="max-w-7xl mx-auto px-6 py-20 bg-white">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-serif text-marce-base-3 mb-4">Articles on Yoga and Meditation</h2>
        <p class="text-stone-600 max-w-2xl mx-auto">Deepen your yoga and meditation practices to integrate these sacred technologies into your daily life.</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {yogaPosts.map((post) => (
          <article class="bg-stone-50 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300 border border-stone-100 flex flex-col">
            {post.data.image && (
              <div class="h-48 overflow-hidden">
                <img
                  src={post.data.image}
                  alt={post.data.title}
                  class="w-full h-full object-cover hover:scale-105 transition-transform duration-700"
                  loading="lazy"
                />
              </div>
            )}
            <div class="p-6 flex flex-col flex-grow">
              <time class="text-xs text-stone-500 mb-2 uppercase tracking-wider">
                {new Date(post.data.pubDate).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
              </time>
              <h3 class="text-xl font-semibold text-marce-base-3 mb-3 leading-tight">
                {post.data.title}
              </h3>
              <p class="text-stone-600 text-sm mb-4 flex-grow leading-relaxed">
                {post.data.description}
              </p>
              <a
                href={`/en/blog/${post.slug.replace('en/', '')}`}
                class="text-marce-base-1 font-semibold text-sm hover:text-marce-base-2 transition-colors inline-flex items-center gap-1"
              >
                Read more
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </article>
        ))}
      </div>

      <div class="text-center mt-12">
        <a
          href="/en/blog/tag/yoga"
          class="inline-block px-6 py-3 border-2 border-marce-base-1 text-marce-base-1 rounded-lg hover:bg-marce-base-1 hover:text-white transition-all font-semibold"
        >
          See all yoga articles
        </a>
      </div>
    </section>
  )}

  <div class="bg-white">
    <ReviewsSection lang="en" />
  </div>

</Layout>
